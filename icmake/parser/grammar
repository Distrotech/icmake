%filenames parser
%scanner ../scanner/scanner.h

%polymorphic FRAME: StackFrame; TYPE: Type;


// lowest precedence
%token 
    TYPE STRINGTOKEN ASSIGN 

    ARG_HEAD ARG_TAIL ASCII BREAK CHDIR CMD_HEAD CMD_TAIL C_BASE C_EXT
    C_PATH G_BASE G_EXT G_PATH ELEMENT ELSE EXEC EXECUTE EXISTS EXIT FGETS
    FIELDS FOR FPRINTF GETENV GETCH GETPID GETS IDENTIFIER IF INT LIST
    MAKELIST M_ECHO NUMBER PRINTF PUTENV RETURN SIZEOFLIST STAT STRING
    STRINGTYPE STRLEN STRLWR STRUPR STRFIND SUBSTR SYSTEM VOID WHILE
    
%right '='
    // AND_IS OR_IS XOR_IS SHL_IS SHR_IS DIV_IS MINUS_IS MUL_IS MOD_IS
    // PLUS_IS

%left OR

%left AND

%left '|'

%left '^'

%left '&'

%left EQUALITY      
        // EQUAL NOT_EQUAL

%left COMPARISON    
        // '<' '>' SMALLER_EQUAL GREATER_EQUAL OLDER YOUNGER

%left SHIFT         
        // SHL SHR

%left ADD
        // '+' '-'

%left MUL
        // '*' '/' '%'

%right UNOP INC DEC
        // '!' '~'

%left '['

%expect 1

// highest precedence

%type <TYPE>  ilsType  
%type <FRAME> zeroframe _comma_expr err_expr

%%

input:
    input
    def_var_or_fun
|
    def_var_or_fun
;

%include inc/ilstype
%include inc/typeofvar
%include inc/zeroframe
%include inc/expression
%include inc/errexpression
%include inc/semicol
%include inc/statements
%include inc/defvarorfun






